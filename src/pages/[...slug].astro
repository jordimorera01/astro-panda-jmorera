---
import '@fontsource-variable/inter'
import '@fontsource-variable/work-sans'

import Products from './Products.astro'

export function getStaticPaths() {
  return [
    { params: { slug: undefined } },
    { params: { slug: 'axiomas' } },
    { params: { slug: 'parque-logistico-salud' } },
    { params: { slug: 'quienes-somos' } },
    { params: { slug: 'textil-sanitario' } }
  ]
}
const { slug } = Astro.params

const response = await fetch(
  `http://localhost:8080/api/es/${slug ?? 'inicio'}`,
  {
    method: 'GET',
    headers: { 'Content-Type': 'application/json' }
  }
)
const response2 = await fetch(`http://localhost:8080/api/es/global`, {
  method: 'GET',
  headers: { 'Content-Type': 'application/json' }
})
const json = await response.json()
const global = await response2.json()
---

<!-- <h1>{global.title}</h1> -->{
  slug === 'textil-sanitario' && <Products data={json} />
}
<!-- <ReactComponent title={json.instance.title} /> -->

<style is:global>
  body {
    font-weight: 300;
    font-family: var(--font-inter);
  }
  .container {
    max-width: 1140px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  h1 {
    font-size: var(--font-size-5xl);
    font-weight: 900;
    color: white;
  }

  h2 {
    font-size: 1rem;
    font-weight: 300;
    color: white;
  }
</style>
